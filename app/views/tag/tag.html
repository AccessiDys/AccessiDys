<!-- Header -->
	<div ng:include="'/views/common/header.html'"></div>
<!-- End Header -->

<style>
	#tagForm {
		width:370px;
		overflow:hidden;
	}
</style>
<div class="tags-container">
	<h3>Liste des tages</h3> 
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#tagAdd">Ajouter</button>
	<table class="table table-bordered tag-list">
	  <thead>
	    <tr>
	      <th class="ids">Id</th>
	      <th>Libelle</th>
	      <th class="action"></th>
	    </tr>
	  </thead>
	  <tbody>
	    <tr ng-repeat="tag in listTags">
	      <td class="ids">{{tag._id}}</td>
	      <td>{{tag.libelle}}</td>
	      <td class="action">
	      	<a ng-click="preSupprimerTag(tag)" href="#/tag" class="btn btn-danger" data-toggle="modal" data-target="#tagDelete"><span class="glyphicon glyphicon-remove"></span></a>
	      	<a ng-click="preModifierTag(tag)" href="#/tag" class="btn btn-primary"  data-toggle="modal" data-target="#tagEdit"><span class="glyphicon glyphicon-edit"></span></a>
	      </td>
	    </tr>
	  </tbody>
	</table>
</div>



  <style>
  	.tags-container{
  		width:600px;
  		
  	}
  	.tags-container h3{
  		float:left;
  		margin-top:0;
  	}
  	.tags-container button{
  		float:right;
  	}
  	.tag-list{
  		width:600px;
  	}
  	.tag-list .ids{
  		width:235px;
  	}
  	.tag-list .action{
  		width:100px;
  	}
  </style>

<!-- debut modal Add -->
<div class="modal fade" id="tagAdd" tabindex="-1" role="dialog" aria-labelledby="tagAddLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="tagAddlLabel">Ajout des tags</h4>
      </div>
      <div class="modal-body">
        <form id="tagAddForm" name="tagAddForm">
		  <div class="form-group" ng-class="{'has-error': tagAddForm.libelle.$invalid}">
		    <label for="tagLibelle">Libelle</label>
		    <input id ="tagLibelle" class="form-control" name="libelle" placeholder="Libelle" type="text" required ng-model="tag.libelle" />
		  </div>
		</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-disabled="!tagAddForm.$valid" ng-click="ajouterTag()">Valider</button>
      </div>
    </div>
  </div>
</div>
<!-- fin modal Add -->

<!-- debut modal Edition -->
<div class="modal fade" id="tagEdit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Edition des tags</h4>
      </div>
      <div class="modal-body">
        <form id="tagEditForm" name="tagEditForm">
          <div class="form-group">
		    <label for="tagLibelle">Identifant</label>
		    <input id ="tagId" class="form-control" name="id" type="text" disabled ng-model="fiche._id" />
		  </div>
		  <div class="form-group" ng-class="{'has-error': tagEditForm.libelle.$invalid}">
		    <label for="tagLibelle">Libelle</label>
		    <input id ="tagLibelle" class="form-control" name="libelle" type="text" required ng-model="fiche.libelle" />
		  </div>
		</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="afficherTags()">Annuler</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-disabled="!tagEditForm.$valid" ng-click="modifierTag()">Valider</button>
      </div>
    </div>
  </div>
</div>
<!-- fin modal Edition -->

<!-- debut modal Delete -->
<div class="modal fade" id="tagDelete" tabindex="-1" role="dialog" aria-labelledby="tagDeleteLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="tagDeletelLabel">Suppression d'un tags</h4>
      </div>
      <div class="modal-body">
			Voulez-vous supprimer cette tag ?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="supprimerTag()">Confirmer</button>
      </div>
    </div>
  </div>
</div>
<!-- fin modal Delete -->

<!-- Footer -->
	<div ng:include="'/views/common/footer.html'"></div>
<!-- End Footer -->
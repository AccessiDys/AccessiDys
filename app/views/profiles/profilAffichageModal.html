<!-- 
 File: modification.html
 * Copyright (c) 2013-2016
 * Centre National d’Enseignement à Distance (Cned), Boulevard Nicephore Niepce, 86360 CHASSENEUIL-DU-POITOU, France
 * (direction-innovation@cned.fr)
 *
 * GNU Affero General Public License (AGPL) version 3.0 or later version
 *
 * This file is part of a program which is free software: you can
 * redistribute it and/or modify it under the terms of the
 * GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public
 * License along with this program.
 * If not, see <http://www.gnu.org/licenses/>.
 -->

<div id="profilAffichageModal" class="modal-header">
    <button type="button" class="close" aria-hidden="true" title="Fermer"
            data-ng-click="dismissModal()">&times;</button>

    <div class="pull-right mt-10">
        <button type="button" class="reset_btn data-ng-scope"
                data-ng-click="dismissModal()"
                title="Annuler" id="cancel-button-top">Annuler
        </button>
        <button type="button"
                class="btn_simple light_blue editionProfil data-ng-scope" title="Enregistrer le profil"
                id="edit-profile-button-top" data-ng-click="save()">
            Enregistrer le profil
        </button>

    </div>

    <h3 data-ng-if="template ==='update'" class="modal-title" id="update-modal-title">Modifier un profil</h3>
    <h3 data-ng-if="template ==='create'" class="modal-title" id="create-modal-title">Ajouter un profil</h3>
    <h3 data-ng-if="template ==='duplicate'" class="modal-title" id="duplicate-modal-title">Dupliquer un profil</h3>


</div>
<div class="modal-body">
    <div>
        <div data-ng-show="requiredFieldErrors.length > 0" class="msg_error">
            <ul data-ng-repeat="error in requiredFieldErrors">
                <li>Le champ <strong>{{error}}</strong> est invalide
                </li>
            </ul>
        </div>
        <div data-ng-show="duplicateNameError" class="msg_error">
            <ul>
                <li>Un profil ayant le même nom existe déjà.</li>
            </ul>
        </div>
        <div class="profile_infos">
            <h2>Informations liées au profil</h2>
            <table>
                <tbody>
                <tr>
                    <td class="">Profil: {{profile.nom}}</td>
                    <td class="">Descriptif: {{profile.descriptif}}</td>
                    <td style="width: 20px;">
                        <button data-ng-click="editName()" class="rules_edit_btn" title="Renommer"></button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="profile_regles">
            <h2>Styles :</h2>
            <table>
                <tbody>
                <tr data-ng-repeat="profileTag in profile.profileTags.tags track by $index" data-ng-if="profileTag.tagDetail != null">
                    <td>
                        <div regle-style="profileTag.texte"
                             tags="profile.profileTags.tags"
                             apply-rules="forceApplyRules"
                             class="resetAll apercu-tags"
                             preview="true">
                        </div>
                    </td>
                    <td style="width: 20px;">
                        <button class="rules_edit_btn" data-ng-click="editTag($index)" title="Modifier"></button>
                    </td>
                </tr>

                </tbody>
            </table>
        </div>
    </div>
    <p class="text-right">
        <button type="button" class="reset_btn data-ng-scope" data-ng-click="dismissModal()"
                title="Annuler">Annuler
        </button>
        <button type="button"
                class="btn_simple light_blue editionProfil data-ng-scope" title="Enregistrer le profil"
                id="edit-profile-button-bottom" data-ng-click="save()">Enregistrer le profil
        </button>
    </p>
</div>